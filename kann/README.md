# エコクイズゲーム - 環境学習サイト

小中学生向けの環境学習サイトです。ゲーミフィケーション要素を取り入れた4択クイズで、楽しみながら環境について学べます。

## 🎮 ゲームの特徴

### ゲーミフィケーション要素

**職業システム**
- 「自然の探検家」から「プラネット・ヒーロー」まで、5段階の職業が存在します
- レベルアップに応じて自動的に職業が変化します
- 各職業には説明とレベル範囲があります

**レベル・経験値・スコア**
- 1問正解で10XP獲得
- 100XPでレベルアップ
- 難易度に応じてスコア獲得（EASY: 100pt、NORMAL: 200pt、HARD: 300pt）
- 残り時間ボーナス（1秒あたり10pt）

**難易度自動調整**
- 3問連続正解で難易度がアップ（EASY → NORMAL → HARD）
- 1問不正解で難易度がダウン
- 難易度が高いほど獲得スコアが大きくなります

**バッジシステム**
- 10種類のバッジが存在します
- 条件達成で自動的にバッジを獲得
- コレクション要素で学習を続ける動機づけになります

### 学習コンテンツ

**3つのテーマ**
1. **ごみとリサイクル**: 分別、3R、プラスチック問題など
2. **生物多様性**: 絶滅危惧種、生態系、外来種など
3. **地球温暖化とエネルギー**: 温室効果ガス、再生可能エネルギーなど

**難易度別クイズ**
- **EASY**: 15秒制限、基本的な知識
- **NORMAL**: 10秒制限、応用的な知識
- **HARD**: 8秒制限、発展的な知識

**即時フィードバック**
- 正解・不正解時にエコニャンが励ましてくれます
- 豆知識を教えてくれるので、単なる正誤判定ではなく学習効果が高まります

## 🎯 バッジ一覧

| バッジ名 | 獲得条件 | カテゴリ |
| :--- | :--- | :--- |
| はじまりの芽 | 初めてクイズに挑戦し、1問正解する | 初級者 |
| 連続正解の星 | 5問連続で正解する | 継続力 |
| 全問マスター | 1つのテーマのクイズを全問正解する | 完璧さ |
| リサイクル博士 | 「ごみとリサイクル」テーマで合計20問正解 | テーマ達人 |
| いきもの探偵 | 「生物多様性」テーマで合計20問正解 | テーマ達人 |
| 温暖化ストッパー | 「地球温暖化」テーマで合計20問正解 | テーマ達人 |
| 時間との勝負師 | 制限時間残り1秒未満で5回正解 | スピード |
| 知識の巨人 | 累計スコアが5,000ポイントに到達 | スコア |
| レベルアップの証 | 職業が「地球の守護者」（Lv. 11）に昇格 | レベル |
| 環境の伝道師 | クイズを合計50問以上プレイ | プレイ回数 |

## 🎨 デザイン

**デザイン哲学: 冒険ファンタジー系**

小中学生の冒険心を刺激し、ゲーム的な快感を提供するデザインです。

**色彩**
- メインカラー: 緑（#22C55E）と青（#3B82F6）
- アクセント: オレンジ（#F97316）と赤（#EF4444）
- 背景: 薄い黄緑で親しみやすい雰囲気

**レイアウト**
- クイズ画面を中央に配置
- 左にプレイヤー情報、右にバッジを配置
- エコニャンキャラクターが画面左下に常駐

**フォント**
- 見出し: Fredoka（丸みのあるサンセリフ）
- 本文: Noto Sans JP（読みやすい日本語フォント）

## 📁 ファイル構成

```
eco_quiz_game/
├── client/
│   ├── public/
│   │   ├── quizzes.json          # クイズデータ
│   │   └── ...
│   ├── src/
│   │   ├── pages/
│   │   │   ├── Home.tsx          # ホームページ
│   │   │   ├── Quiz.tsx          # クイズゲームページ
│   │   │   └── ...
│   │   ├── hooks/
│   │   │   └── useGameState.ts   # ゲーム状態管理フック
│   │   ├── lib/
│   │   │   └── quizData.ts       # ゲームロジック・データ構造
│   │   ├── App.tsx               # ルーティング
│   │   ├── index.css             # グローバルスタイル
│   │   └── ...
│   └── index.html
├── shared/
│   └── quizData.ts               # 共有データ構造
├── server/
│   └── index.ts                  # サーバー（静的ファイル配信）
├── package.json
└── README.md
```

## 🚀 使用方法

### 開発環境での実行

```bash
# 依存関係のインストール
pnpm install

# 開発サーバーの起動
pnpm dev

# ブラウザで http://localhost:3000 にアクセス
```

### ビルド

```bash
# 本番用ビルド
pnpm build #これはしないでね

# ビルド後のプレビュー
pnpm preview
```

## 🎮 ゲームの流れ

1. **ホームページ**: ゲーム紹介を確認して「クイズを始める」をクリック
2. **クイズページ**: 
   - 現在のレベル、職業、スコアが左に表示されます
   - 中央に問題と4択の選択肢が表示されます
   - 右にはこれまで獲得したバッジが表示されます
3. **問題に回答**: 4つの選択肢から正解だと思うものをクリック
4. **フィードバック**: エコニャンが励ましと豆知識を教えてくれます
5. **次の問題へ**: 「次の問題へ」ボタンをクリックして続行

## 💾 データ保存

プレイヤーの進捗（レベル、経験値、スコア、獲得バッジなど）はブラウザのLocalStorageに自動保存されます。ブラウザを閉じてもデータは保持されます。

## 🔄 ゲーム状態のリセット

ゲーム状態をリセットしたい場合は、ブラウザの開発者ツール（F12）でコンソールを開き、以下を実行してください：

```javascript
localStorage.removeItem('eco_quiz_game_state');
location.reload();
```

## 📊 技術スタック

- **フロントエンド**: React 19 + TypeScript
- **スタイリング**: Tailwind CSS 4
- **UI コンポーネント**: shadcn/ui
- **ルーティング**: Wouter
- **通知**: Sonner
- **ビルドツール**: Vite

## 📝 クイズデータ形式

クイズデータは `client/public/quizzes.json` に保存されています。新しいクイズを追加する場合は、以下の形式に従ってください：

```json
{
  "questions": [
    {
      "id": "q_theme_difficulty_number",
      "theme": "recycling|biodiversity|climate",
      "difficulty": "EASY|NORMAL|HARD",
      "question": "問題文",
      "options": ["選択肢1", "選択肢2", "選択肢3", "選択肢4"],
      "correctAnswer": 0,
      "feedback": {
        "correct": "正解時のエコニャンのフィードバック",
        "incorrect": "不正解時のエコニャンのフィードバック"
      },
      "timeLimit": 15,
      "baseScore": 100
    }
  ]
}
```

## 🎓 学習効果

このゲームは以下の学習効果を目指しています：

- **知識習得**: 環境に関する基本的な知識を身につける
- **学習意欲向上**: ゲーミフィケーション要素で学習を楽しくする
- **継続性**: バッジやレベルアップで達成感を感じさせ、継続的な学習を促す
- **即時フィードバック**: 正解・不正解の理由を豆知識で説明し、深い理解を促進

ito
---

**楽しく学んで、環境を守ろう！** 🌍
